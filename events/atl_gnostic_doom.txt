namespace = gnostic_heresy

# Event 1: The Prophet's Bloody Vision
country_event = {
    id = gnostic_heresy.1
    title = gnostic_heresy.1.t
    desc = gnostic_heresy.1.d
    picture = RELIGIOUS_TURMOIL_eventPicture
    
    is_triggered_only = yes
    
    trigger = {
        religion = united_christianity
        has_country_modifier = millenarian_panic
        NOT = { has_country_modifier = atl_gnostic_apocalyptic_visions }
        NOT = { has_country_flag = had_prophets_vision }
        is_year = 6495
        NOT = { is_year = 6510 }
    }
    
    immediate = {
        hidden_effect = {
            set_country_flag = had_prophets_vision
        }
    }
    
    option = {
        name = gnostic_heresy.1.a
        ai_chance = { factor = 60 }
        
        custom_tooltip = gnostic_heresy.1.a.tt
        
        
            add_country_modifier = {
                name = atl_gnostic_apocalyptic_visions
                duration = 3650
            }
            add_stability = -1
            add_church_power = 25
            
            random_list = {
                30 = {
                    add_prestige = -10
                    random_owned_province = {
                        limit = { religion = united_christianity }
                        add_unrest = 5
                    }
                }
                40 = {
                    add_papal_influence = 15
                    add_legitimacy = 5
                }
                20 = {
                    add_yearly_manpower = 2
                    add_years_of_income = -0.1
                }
                10 = {
                    define_advisor = {
                        type = theologian
                        skill = 2
                        cost_multiplier = 0.5
                    }
                }
            }
        
    }
    
    option = {
        name = gnostic_heresy.1.b
        ai_chance = { 
            factor = 40 
            modifier = {
                factor = 0.5
                NOT = { prestige = 0 }
            }
        }
        
        custom_tooltip = gnostic_heresy.1.b.tt
        
 
            add_prestige = -5
            
            random_owned_province = {
                limit = { 
                    religion = united_christianity 
                    NOT = { is_capital = yes }
                }
                change_religion = hussite
                add_unrest = 3
            }
            
            random_list = {
                25 = {
                    add_stability = -1
                    random_owned_province = {
                        limit = { religion = united_christianity }
                        add_unrest = 8
                    }
                }
                25 = {
                    kill_advisor = theologian
                    add_legitimacy = -10
                }
                30 = {
                    add_country_modifier = {
                        name = atl_gnostic_theological_doubt
                        duration = 1825
                    }
                }
                20 = {
                    add_yearly_manpower = 3
                    add_years_of_income = -0.15
                }
            }
        }
    }
 

# Event 2: The Heretic's Poisonous Embrace
country_event = {
    id = gnostic_heresy.2
    title = gnostic_heresy.2.t
    desc = gnostic_heresy.2.d
    picture = SPY_eventPicture
    
    is_triggered_only = yes
    
    trigger = {
        religion = united_christianity
        has_country_modifier = millenarian_panic
        any_neighbor_country = {
            religion = hussite
        }
        NOT = { has_country_flag = heretic_temptation_event }
    }
    
    immediate = {
        hidden_effect = {
            set_country_flag = heretic_temptation_event
        }
    }
    
    option = {
        name = gnostic_heresy.2.a
        ai_chance = { factor = 70 }
        
        custom_tooltip = gnostic_heresy.2.a.tt
 
            add_country_modifier = {
                name = atl_gnostic_inquisition_fervor
                duration = 1825
            }
            add_legitimacy = -5
            add_years_of_income = -0.3
            
            random_list = {
                40 = {
                    random_owned_province = {
                        limit = { religion = hussite }
                        change_religion = united_christianity
                        add_devastation = 10
                    }
                    add_prestige = 5
                }
                30 = {
                    add_country_modifier = {
                        name = atl_gnostic_zealous_inquisition
                        duration = 1095
                    }
                }
                20 = {
                    add_treasury = -100
                    add_stability = -1
                    kill_advisor = spymaster
                }
                10 = {
                    random_owned_province = {
                        limit = { religion = united_christianity }
                        spawn_rebels = {
                            type = religious_rebels
                            size = 2
                        }
                    }
                }
            
        }
    }
    
    option = {
        name = gnostic_heresy.2.b
        ai_chance = { 
            factor = 30
            modifier = {
                factor = 2
                NOT = { stability = 1 }
            }
        }
        
        custom_tooltip = gnostic_heresy.2.b.tt
        
 
            add_country_modifier = {
                name = atl_gnostic_theological_doubt
                duration = 1825
            }
            
            random_owned_province = {
                limit = { 
                    religion = united_christianity 
                    NOT = { is_capital = yes }
                }
                change_religion = hussite
            }
            
            random_list = {
                35 = {
                    add_dip_power = 50
                    add_adm_power = 30
                    define_advisor = {
                        type = philosopher
                        skill = 1
                        cost_multiplier = 0.75
                    }
                }
                25 = {
                    add_prestige = -15
                    add_papal_influence = -20
                    random_owned_province = {
                        limit = { religion = united_christianity }
                        add_unrest = 6
                    }
                }
                25 = {
                    add_stability = -1
                    add_legitimacy = -10
                }
                15 = {
                
                    add_prestige = -25
                    add_stability = -2
                }
            }
         
    }
}

# Event 3: The Pneumatic Initiation
country_event = {
    id = gnostic_heresy.3
    title = gnostic_heresy.3.t
    desc = gnostic_heresy.3.d
    picture = RELIGIOUS_CONVERSION_eventPicture
    
    is_triggered_only = yes
    
    trigger = {
        religion = hussite
        has_country_modifier = millenarian_panic
        stability = 1
        NOT = { has_country_flag = pneumatic_initiation_performed }
    }
    
    immediate = {
        hidden_effect = {
            set_country_flag = pneumatic_initiation_performed
        }
    }
    
    option = {
        name = gnostic_heresy.3.a
        ai_chance = { factor = 75 }
        
        custom_tooltip = gnostic_heresy.3.a.tt
        
     
            add_country_modifier = {
                name = atl_gnostic_sacred_mysteries
                duration = 2555
            }
            add_prestige = 10
            add_adm_power = 50
            
            random_list = {
                30 = {
                    add_legitimacy = 15
                    define_advisor = {
                        type = theologian
                        skill = 3
                        cost_multiplier = 0.5
                    }
                }
                25 = {
                    add_stability = 1
                    add_dip_power = 75
                    capital_scope = {
                        add_base_tax = 1
                    }
                }
                20 = {
                    add_yearly_manpower = 0.5
                    add_army_tradition = 10
                    add_country_modifier = {
                        name = atl_gnostic_divine_warriors
                        duration = 1825
                    }
                }
                15 = {
                    add_treasury = 200
                    add_mercantilism = 2
                }
                10 = {
                    add_ruler_modifier = {
                        name = atl_gnostic_enlightened_ruler
                        duration = -1
                    }
                    add_prestige = 20
                }
            }
         
    }
    
    option = {
        name = gnostic_heresy.3.b
        ai_chance = { factor = 25 }
        
        custom_tooltip = gnostic_heresy.3.b.tt
        
 
            add_stability = 1
            add_legitimacy = 10
            add_prestige = 5
            
            random_list = {
                60 = {
                    add_treasury = 100
                    add_papal_influence = 10
                }
                30 = {
                    add_adm_power = 25
                    add_dip_power = 25
                    add_mil_power = 25
                }
                10 = {
                    random_owned_province = {
                        limit = { religion = hussite }
                        add_base_production = 1
                    }
                }
            }
         
    }
}

# Event 4: The Blood Moon Prophecy
country_event = {
    id = gnostic_heresy.4
    title = gnostic_heresy.4.t
    desc = gnostic_heresy.4.d
    picture = COMET_SIGHTED_eventPicture
    
    is_triggered_only = yes
    
    trigger = {
        has_country_modifier = millenarian_panic
        OR = {
            religion = united_christianity
            religion = hussite
        }
        is_year = 6495
        NOT = { is_year = 6510 }
        NOT = { has_country_flag = blood_moon_witnessed }
    }
    
    immediate = {
        hidden_effect = {
            set_country_flag = blood_moon_witnessed
        }
    }
    
    option = {
        name = gnostic_heresy.4.a
        trigger = { religion = united_christianity }
        ai_chance = { factor = 50 }
        
        custom_tooltip = gnostic_heresy.4.a.tt
        
   
            add_country_modifier = {
                name = atl_gnostic_divine_portents
                duration = 1095
            }
      
            
            random_list = {
                30 = {
                          add_stability = -1

                }
                25 = {
                    add_legitimacy = -15
                    add_yearly_manpower = 4
                    random_owned_province = {
                        spawn_rebels = {
                            type = peasant_rebels
                            size = 2
                        }
                    }
                }
                25 = {
                    add_years_of_income = -0.2
                    kill_advisor = theologian
                    add_prestige = -10
                }
                                                35 = {
               
                    add_prestige = 10
                    add_stability = 1
                }
                15 = {
                    add_stability = -1
                    every_owned_province = {
                        limit = { religion = united_christianity }
                        add_devastation = 5
                    }
                }

            }
         
    }
    
    option = {
        name = gnostic_heresy.4.b
        trigger = { religion = hussite }
        ai_chance = { factor = 60 }
        
        custom_tooltip = gnostic_heresy.4.b.tt
        
        
            add_country_modifier = {
                name = atl_gnostic_gnostic_revelation
                duration = 1095
            }
            add_prestige = 15
            
            random_list = {
                                35 = {
               
                    add_prestige = -10
                    add_stability = -1
                }
                35 = {
                                        every_owned_province = {
                        limit = { religion = united_christianity }
                        add_unrest = 3
                    }
                }
                35 = {
                    add_adm_tech = 1
                    change_innovativeness = 2
                    define_advisor = {
                        type = natural_scientist
                        skill = 3
                        cost_multiplier = 0.5
                    }
                }
                25 = {
                    add_stability = 2
                    add_legitimacy = 20
                    capital_scope = {
                        add_base_tax = 1
                        add_base_production = 1
                    }
                }
                20 = {
                    add_treasury = 300
                    add_yearly_manpower = 1
                }
                15 = {
                    every_owned_province = {
                        limit = { religion = hussite }
                        add_prosperity = 25
                    }
                }
                5 = {
                    add_ruler_modifier = {
                        name = atl_gnostic_chosen_of_pleroma
                        duration = -1
                    }
                    add_prestige = 30
                }
            
        }
    }
    
    option = {
        name = gnostic_heresy.4.c
        ai_chance = { 
            factor = 30
            modifier = {
                factor = 2
                has_idea_group = humanist_ideas
            }
        }
        
        custom_tooltip = gnostic_heresy.4.c.tt
        
      
            add_stability = 1
            add_legitimacy = -5
            
            random_list = {
                50 = {
                    add_adm_power = 30
                    add_dip_power = 30
                    add_mil_power = 30
                }
                30 = {
                    define_advisor = {
                        type = natural_scientist
                        skill = 1
                        cost_multiplier = 0.5
                    }
                }
                20 = {
                    add_prestige = 10
                    change_innovativeness = 1
                }
            }
        
    }
}

# Event 5: The Heretical Scriptorium
country_event = {
    id = gnostic_heresy.5
    title = gnostic_heresy.5.t
    desc = gnostic_heresy.5.d
    picture = UNIVERSITY_eventPicture
    
    is_triggered_only = yes
    
    trigger = {
        religion = hussite
        has_country_modifier = millenarian_panic
        num_of_cities = 5
        treasury = 300
        NOT = { has_country_modifier = atl_gnostic_forbidden_library }
        NOT = { has_country_flag = scriptorium_established }
    }
    
    immediate = {
        hidden_effect = {
            set_country_flag = scriptorium_established
        }
    }
    
    option = {
        name = gnostic_heresy.5.a
        ai_chance = { factor = 60 }
        
        custom_tooltip = gnostic_heresy.5.a.tt
      
            add_country_modifier = {
                name = atl_gnostic_forbidden_library
                duration = -1
            }
            add_years_of_income = -0.5
            add_dip_power = 100
            
            random_list = {
                25 = {
                    add_adm_tech = 1
                    define_advisor = {
                        type = natural_scientist
                        skill = 2
                        cost_multiplier = 0.25
                    }
                }
                25 = {
                    change_innovativeness = 3
                    capital_scope = {
                        add_institution_embracement = {
                            which = renaissance
                            value = 25
                        }
                    }
                }
                20 = {
                    every_neighbor_country = {
                        limit = { religion = united_christianity }
                        add_opinion = {
                            who = ROOT
                            modifier = harbors_heretics
                        }
                    }
                    add_prestige = 15
                }
                15 = {
                    random_owned_province = {
                        add_unrest = 8
                        spawn_rebels = {
                            type = religious_rebels
                            size = 1
                        }
                    }
                }
                10 = {
                    add_treasury = -200
                    kill_advisor = natural_scientist
                    add_stability = -1
                }
                5 = {
                    change_ruler_stat = {
                        type = adm
                        amount = 2
                    }
                    add_ruler_modifier = {
                        name = atl_gnostic_keeper_of_secrets
                        duration = -1
                    }
                }
            }
         
    }
    
    option = {
        name = gnostic_heresy.5.b
        ai_chance = { factor = 40 }
        
        custom_tooltip = gnostic_heresy.5.b.tt
        
    
            add_stability = 1
            add_legitimacy = 5
            add_prestige = 5
            
            random_list = {
                70 = {
                    add_treasury = 50
                    add_papal_influence = 15
                }
                20 = {
                    add_adm_power = 50
                    add_dip_power = 30
                }
                10 = {
                    define_advisor = {
                        type = theologian
                        skill = 1
                        cost_multiplier = 0.75
                    }
                }
            }
        }
    }
 

# Event 6: The Martyred Saint's Bones
country_event = {
    id = gnostic_heresy.6
    title = gnostic_heresy.6.t
    desc = gnostic_heresy.6.d
    picture = RELIGIOUS_CONVERSION_eventPicture
    
    is_triggered_only = yes
    
    trigger = {
        religion = united_christianity
        has_country_modifier = millenarian_panic
        NOT = { has_country_flag = martyred_saint_bones }
        any_owned_province = {
            religion = hussite
        }
    }
    
    immediate = {
        hidden_effect = {
            set_country_flag = martyred_saint_bones
        }
    }
    
    option = {
        name = gnostic_heresy.6.a
        ai_chance = { factor = 50 }
        
        custom_tooltip = gnostic_heresy.6.a.tt
        
         
            add_country_modifier = {
                name = atl_gnostic_holy_relics_power
                duration = 2555
            }
            add_papal_influence = 30
            add_church_power = 40
            
            random_list = {
                40 = {
                    random_owned_province = {
                        limit = { religion = hussite }
                        change_religion = united_christianity
                        add_province_modifier = {
                            name = atl_gnostic_blessed_by_saint
                            duration = 3650
                        }
                    }
                }
                30 = {
                    add_legitimacy = 20
                    add_prestige = 15
                    define_advisor = {
                        type = theologian
                        skill = 3
                        cost_multiplier = 0.25
                    }
                }
                20 = {
                    every_owned_province = {
                        limit = { religion = united_christianity }
                        add_unrest = -3
                    }
                }
                10 = {
                    add_treasury = -150
                    spawn_rebels = {
                        type = religious_rebels
                        size = 3
                    }
                }
            }
        
    }
    
    option = {
        name = gnostic_heresy.6.b
        ai_chance = { factor = 30 }
        
        custom_tooltip = gnostic_heresy.6.b.tt
        
        
            add_adm_power = 75
            add_dip_power = 50
            
            random_list = {
                40 = {
                    add_country_modifier = {
                        name = atl_gnostic_scholarly_investigation
                        duration = 1825
                    }
                }
                30 = {
                    define_advisor = {
                        type = natural_scientist
                        skill = 2
                        cost_multiplier = 0.5
                    }
                }
                20 = {
                    change_innovativeness = 2
                    add_prestige = 10
                }
                10 = {
                 
                    add_stability = -2
                    add_prestige = -20
                }
            }
        
    }
    
    option = {
        name = gnostic_heresy.6.c
        ai_chance = { factor = 20 }
        
        custom_tooltip = gnostic_heresy.6.c.tt
        
       
            add_stability = -1
            add_papal_influence = -25
            add_prestige = -10
            
            random_list = {
                50 = {
                    every_owned_province = {
                        limit = { religion = united_christianity }
                        add_unrest = 5
                    }
                }
                30 = {
                    add_legitimacy = -15
                    kill_advisor = theologian
                }
                20 = {
                    random_owned_province = {
                        change_religion = hussite
                        spawn_rebels = {
                            type = religious_rebels
                            size = 2
                        }
                    }
                }
            }
        
    }
}

# Event 7: The Demiurge's Whispers
country_event = {
    id = gnostic_heresy.7
    title = gnostic_heresy.7.t
    desc = gnostic_heresy.7.d
    picture = RELIGIOUS_TURMOIL_eventPicture
    
    is_triggered_only = yes
    
    trigger = {
        religion = hussite
        has_country_modifier = millenarian_panic
        NOT = { has_country_flag = demiurge_whispers }
        advisor = theologian
    }
    
    immediate = {
        hidden_effect = {
            set_country_flag = demiurge_whispers
        }
    }
    
    option = {
        name = gnostic_heresy.7.a
        ai_chance = { factor = 60 }
        
        custom_tooltip = gnostic_heresy.7.a.tt
        
        
            add_country_modifier = {
                name = atl_gnostic_demiurge_weakness
                duration = 2555
            }
            add_prestige = 20
            
            random_list = {
                35 = {
                    add_stability = 2
                    add_legitimacy = 25
                    every_owned_province = {
                        limit = { religion = hussite }
                        add_unrest = -2
                    }
                }
                30 = {
                    add_adm_tech = 1
                    change_innovativeness = 3
                    change_ruler_stat = {
                        type = adm
                        amount = 1
                    }
                }
                25 = {
                    add_treasury = 500
                    add_yearly_manpower = 1
                    add_army_tradition = 15
                }
                10 = {
                    add_ruler_modifier = {
                        name = atl_gnostic_archon_slayer
                        duration = -1
                    }
                    add_prestige = 50
                }
            }
         
    }
    
    option = {
        name = gnostic_heresy.7.b
        ai_chance = { factor = 40 }
        
        custom_tooltip = gnostic_heresy.7.b.tt
        
      
            kill_advisor = theologian
            add_stability = 1
            add_legitimacy = 5
            
            random_list = {
                60 = {
                    add_adm_power = 100
                    add_dip_power = 75
                }
                30 = {
                    add_treasury = 200
                    add_prestige = 10
                }
                10 = {
                    random_owned_province = {
                        spawn_rebels = {
                            type = religious_rebels
                            size = 2
                        }
                    }
                }
            }
        }
    }
 

# Event 8: The Orthodox Schism
country_event = {
    id = gnostic_heresy.8
    title = gnostic_heresy.8.t
    desc = gnostic_heresy.8.d
    picture = RELIGIOUS_WARS_eventPicture
    
    is_triggered_only = yes
    
    trigger = {
        religion = united_christianity
        has_country_modifier = millenarian_panic
        NOT = { has_country_flag = orthodox_schism_event }
        num_of_owned_provinces_with = {
            value = 2
            religion = hussite
        }
    }
    
    immediate = {
        hidden_effect = {
            set_country_flag = orthodox_schism_event
        }
    }
    
    option = {
        name = gnostic_heresy.8.a
        ai_chance = { factor = 40 }
        
        custom_tooltip = gnostic_heresy.8.a.tt
        
     
            add_country_modifier = {
                name = militant_orthodoxy
                duration = 3650
            }
            add_church_power = 50
            add_papal_influence = 30
            
            random_list = {
                40 = {
                    every_owned_province = {
                        limit = { religion = hussite }
                        change_religion = united_christianity
                        add_devastation = 15
                    }
                    add_prestige = 20
                }
                30 = {
                    add_legitimacy = 25
                    define_advisor = {
                        type = inquisitor
                        skill = 3
                        cost_multiplier = 0.5
                    }
                }
                20 = {
                    spawn_rebels = {
                        type = religious_rebels
                        size = 4
                    }
                    add_war_exhaustion = 3
                }
                10 = {
                    add_treasury = -300
                    add_yearly_manpower = 6
                    add_stability = -2
                }
            }
        
    }
    
    option = {
        name = gnostic_heresy.8.b
        ai_chance = { factor = 35 }
        
        custom_tooltip = gnostic_heresy.8.b.tt
        
 
            add_country_modifier = {
                name = atl_gnostic_religious_compromise
                duration = 2555
            }
            add_stability = 1
            
            random_list = {
                50 = {
                
                    add_legitimacy = 15
                }
                30 = {
                    add_adm_power = 100
                    add_dip_power = 100
                    add_prestige = 10
                }
                20 = {
                    every_owned_province = {
                        add_unrest = 3
                    }
                    add_stability = -1
                }
            }
       
    }
    
    option = {
        name = gnostic_heresy.8.c
        ai_chance = { factor = 25 }
        
        custom_tooltip = gnostic_heresy.8.c.tt
        change_religion = hussite
 
            
            add_country_modifier = {
                name = atl_gnostic_royal_conversion
                duration = 3650
            }
            add_stability = -3
            add_prestige = -30
            
            random_list = {
                40 = {
                    every_owned_province = {
                        limit = { religion = united_christianity }
                        change_religion = hussite
                    }
                    add_legitimacy = 20
                }
                30 = {
                    spawn_rebels = {
                        type = religious_rebels
                        size = 6
                    }
                    add_war_exhaustion = 5
                }
                20 = {
                    add_legitimacy = -40
                    add_treasury = -500
                    kill_advisor = theologian
                }
                10 = {
                    add_ruler_modifier = {
                        name = atl_gnostic_gnostic_monarch
                        duration = -1
                    }
                    add_prestige = 25
                    add_adm_tech = 1
                }
            }
        }
    }
 
