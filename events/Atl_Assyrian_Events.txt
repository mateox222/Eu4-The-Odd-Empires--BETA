namespace = assyrian_events
namespace = assyrian_arch
country_event = {
	id = assyrian_events.11
	title = "assyrian_events.11.t"
	desc = "assyrian_events.11.d"
	picture = DIPLOMACY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_events.11.a" # Accept confederation
		ai_chance = {
			factor = 75
			modifier = {
				factor = 1.5
				has_opinion = {
					who = A78
					value = 100
				}
			}
			modifier = {
				factor = 0.5
				army_size = 20
			}
			modifier = {
				factor = 0
				is_rival = A78
			}
		}
		
		A78 = {
			create_subject = {
				subject_type = atlantis_chaldean_confederation
				subject = ROOT
			}
		}
		add_liberty_desire = -50
		add_country_modifier = {
			name = "chaldean_confederation_member"
			duration = -1
		}
		add_opinion = {
			who = A78
			modifier = joined_confederation
		}
		
		# Relations boost with other confederation members
		every_country = {
			limit = {
				is_subject_of = A78
				is_subject_of_type = atlantis_chaldean_confederation
				NOT = { tag = ROOT }
			}
			add_opinion = {
				who = ROOT
				modifier = fellow_confederation_member
			}
			reverse_add_opinion = {
				who = ROOT
				modifier = fellow_confederation_member
			}
		}
	}
	
	option = {
		name = "assyrian_events.11.b" # Refuse
		ai_chance = {
			factor = 25
		}
		grant_independence = yes	
		add_prestige = 10
		A78 = {
			add_opinion = {
				who = ROOT
				modifier = refused_confederation
			}
			add_casus_belli = {
				target = ROOT
				type = cb_vassalize_mission
				months = 120
			}
		}
	}
}

country_event = {
	id = assyrian_events.30
	title = "assyrian_events.30.t"
	desc = "assyrian_events.30.d"
	picture = GREAT_BUILDING_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_events.30.a"
		add_adm_power = 200
		add_dip_power = 200
		add_mil_power = 200
		add_country_modifier = {
			name = "apex_of_assyrian_civilization"
			duration = 10950
		}
		change_innovativeness = 10
	}
}

# Epic Archaeological Discovery
country_event = {
	id = assyrian_events.31
	title = "assyrian_events.31.t"
	desc = "assyrian_events.31.d"
	picture = IMPORTANT_STATUE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_events.31.a" # Military focus
		add_army_professionalism = 0.05
		add_mil_tech = 1
		add_mil_power = 200
			add_government_power = {
							mechanic_type = assyrian_legacy_mechanic
							power_type = ashurbanipal_legacy
							value = -100
						}
	}
	
	option = {
		name = "assyrian_events.31.b" # Administrative focus
		add_adm_tech = 1
		add_adm_power = 200
		change_government_reform_progress = 100
					add_government_power = {
							mechanic_type = assyrian_legacy_mechanic
							power_type = ashurbanipal_legacy
							value = -100
						}
	}
	
	option = {
		name = "assyrian_events.31.c" # Economic focus
		add_years_of_income = 2
		add_mercantilism = 5
		add_dip_power = 200
					add_government_power = {
							mechanic_type = assyrian_legacy_mechanic
							power_type = ashurbanipal_legacy
							value = -100
						}
		capital_scope = {
			add_base_production = 3
			add_base_tax = 3
		}
	}
}

country_event = {
	id = assyrian_arch.1
	title = "assyrian_arch.1.t"
	desc = "assyrian_arch.1.d"
	picture = GREAT_BUILDING_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		set_country_flag = legendary_discovery_ashurbanipal
	}
	
	option = {
		name = "assyrian_arch.1.a" # Focus on scientific texts
		change_innovativeness = 10
		add_adm_power = 500
		change_innovativeness = 5
		add_country_modifier = {
			name = "library_of_ashurbanipal_scientific"
			duration = -1
		}
		capital_scope = {
			add_building = university
		}
	}
	
	option = {
		name = "assyrian_arch.1.b" # Focus on administrative texts
		add_government_power = {
			mechanic_type = assyrian_legacy_mechanic
			power_type = ashurbanipal_legacy
			value = 50
		}
		add_country_modifier = {
			name = "library_of_ashurbanipal_administrative"
			duration = -1
		}
		change_government_reform_progress = 200
		add_absolutism = 10
	}
	
	option = {
		name = "assyrian_arch.1.c" # Focus on religious texts
		add_papal_influence = 100
		add_patriarch_authority = 0.25
		add_country_modifier = {
			name = "library_of_ashurbanipal_religious"
			duration = -1
		}
		random_owned_province = {
			limit = { 
				religion = ROOT
				NOT = { has_building = cathedral }
			}
			add_building = cathedral
		}
	}
	
	after = {
		add_prestige = 100
		add_splendor = 400
		hidden_effect = {
			every_country = {
				limit = {
					knows_country = ROOT
					NOT = { tag = ROOT }
				}
				add_opinion = {
					who = ROOT
					modifier = discovered_ancient_library
				}
			}
		}
	}
}

# Sargon's Lost Throne Room
country_event = {
	id = assyrian_arch.2
	title = "assyrian_arch.2.t"
	desc = "assyrian_arch.2.d"
	picture = THRONE_EMPTY_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		set_country_flag = legendary_discovery_sargon
	}
	
	option = {
		name = "assyrian_arch.2.a" # Claim divine mandate
		trigger = {
			government = monarchy
		}
		add_legitimacy = 100
		add_absolutism = 20
		add_ruler_modifier = {
			name = "heir_of_sargon_divine"
			duration = -1
		}
		custom_tooltip = sargon_throne_divine_tooltip
		hidden_effect = {
			add_ruler_personality = righteous_personality
			set_ruler_flag = blessed_by_ancient_kings
		}
		if = {
			limit = { has_dlc = "Mandate of Heaven" }
			add_mandate = 20
		}
	}
	
	option = {
		name = "assyrian_arch.2.b" # Military glory
		add_ruler_modifier = {
			name = "heir_of_sargon_military"
			duration = -1
		}
		create_general = {
			tradition = 100
			add_fire = 2
			add_shock = 2
			add_manuever = 2
			add_siege = 2
		}
		add_army_tradition = 50
		add_yearly_manpower = 2
	}
	
	option = {
		name = "assyrian_arch.2.c" # Display in museum
		trigger = {
			capital_scope = { development = 30 }
		}
		highlight = yes
		add_prestige = 50
		capital_scope = {
			add_great_project_tier = {
				type = library_of_ashurbanipal
				tier = 1
			}
			add_province_modifier = {
				name = "sargon_throne_display"
				duration = -1
			}
		}
		add_splendor = 800
	}
	
	after = {
		add_government_power = {
			mechanic_type = assyrian_legacy_mechanic
			power_type = ashurbanipal_legacy
			value = 40
		}
	}
}

# Assyrian Royal Treasury
country_event = {
	id = assyrian_arch.3
	title = "assyrian_arch.3.t"
	desc = "assyrian_arch.3.d"
	picture = ECONOMY_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		set_country_flag = legendary_discovery_treasury
	}
	
	option = {
		name = "assyrian_arch.3.a" # Take all the gold
		add_years_of_income = 10
		add_inflation = 3
		add_corruption = 2
		random_list = {
			50 = {
				add_country_modifier = {
					name = "curse_of_greed"
					duration = 7300
				}
			}
			50 = { }
		}
	}
	
	option = {
		name = "assyrian_arch.3.b" # Invest in infrastructure
		capital_scope = {
			add_base_tax = 3
		}
		random_owned_province = {
			limit = { 
				is_capital = no
				development = 10
			}
			add_base_tax = 2
			add_base_production = 2
			add_base_manpower = 1
		}
	}
	
	option = {
		name = "assyrian_arch.3.c" # Create national bank
		trigger = {
			NOT = { has_country_modifier = national_bank }
		}
		add_treasury = 1000
		add_country_modifier = {
			name = "assyrian_royal_bank"
			duration = -1
		}
		add_mercantilism = 10
		change_price = {
			trade_goods = gold
			key = assyrian_gold_discovery
			value = -0.25
			duration = 3650
		}
	}
	
	after = {
		hidden_effect = {
			every_rival_country = {
				add_opinion = {
					who = ROOT
					modifier = found_ancient_treasure
				}
			}
		}
	}
}

# Military Engineering Manuals
country_event = {
	id = assyrian_arch.4
	title = "assyrian_arch.4.t"
	desc = "assyrian_arch.4.d"
	picture = SIEGE_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		set_country_flag = legendary_discovery_military
	}
	
	option = {
		name = "assyrian_arch.4.a" # Revolutionary siege techniques
		add_mil_tech = 1
		add_mil_power = 600
		add_country_modifier = {
			name = "assyrian_siege_mastery"
			duration = -1
		}
		define_advisor = {
			type = army_reformer
			skill = 3
			cost_multiplier = 0.25
			name = "Ashur-bel-usur"
			culture = ROOT
			religion = ROOT
		}
	}
	
	option = {
		name = "assyrian_arch.4.b" # Iron weapons technology
		add_mil_power = 400
		add_country_modifier = {
			name = "assyrian_iron_revolution"
			duration = -1
		}
		unlock_merc_company = {
			merc_company = merc_assyrian_immortals
		}
		add_army_professionalism = 0.1
	}
	
	option = {
		name = "assyrian_arch.4.c" # Defensive innovations
		trigger = {
			any_owned_province = {
				fort_level = 2
			}
		}
		add_mil_power = 300
		add_country_modifier = {
			name = "assyrian_fortress_design"
			duration = -1
		}
		every_owned_province = {
			limit = { fort_level = 2 }
			add_province_modifier = {
				name = "upgraded_assyrian_fort"
				duration = -1
			}
		}
	}
}

# Diplomatic Archives  
country_event = {
	id = assyrian_arch.5
	title = "assyrian_arch.5.t"
	desc = "assyrian_arch.5.d"
	picture = DIPLOMACY_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		set_country_flag = legendary_discovery_diplomatic
	}
	
	option = {
		name = "assyrian_arch.5.a" # Blackmail everyone
		add_dip_tech = 1
		add_dip_power = 600
		every_rival_country = {
			add_spy_network_from = {
				who = ROOT
				value = 50
			}
		}
		add_country_modifier = {
			name = "assyrian_intelligence_network"
			duration = -1
		}
		add_corruption = 1
	}
	
	option = {
		name = "assyrian_arch.5.b" # Restore ancient alliances
		add_dip_power = 200
		custom_tooltip = assyrian_ancient_alliances_tooltip
		hidden_effect = {
			every_known_country = {
				limit = {
					capital_scope = {
						OR = {
							region = anatolia_region
							region = mashriq_region
							region = persia_region
						}
					}
					NOT = { war_with = ROOT }
					NOT = { is_rival = ROOT }
				}
				add_opinion = {
					who = ROOT
					modifier = ancient_friendship_restored
				}
			}
		}
		add_country_modifier = {
			name = "assyrian_diplomatic_traditions"
			duration = -1
		}
	}
	
	option = {
		name = "assyrian_arch.5.c" # Trade agreements
		add_dip_power = 300
		add_mercantilism = 5
		add_country_modifier = {
			name = "assyrian_trade_privileges"
			duration = -1
		}
		random_active_trade_node = {
			limit = {
				any_trade_node_member_province = {
					owned_by = ROOT
				}
			}
			add_trade_modifier = {
				who = ROOT
				duration = -1
				power = 25
				key = ancient_trade_rights
			}
		}
	}
}

# Cursed Artifact Event
country_event = {
	id = assyrian_arch.10
	title = "assyrian_arch.10.t"
	desc = "assyrian_arch.10.d"
	picture = COMET_SIGHTED_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		add_stability = -1
		add_country_modifier = {
			name = "curse_of_assyria"
			duration = 3650
		}
	}
	
	option = {
		name = "assyrian_arch.10.a" # The ruler is cursed
		trigger = {
			has_regency = no
		}
		random_list = {
			40 = {
				kill_ruler = yes
				custom_tooltip = ruler_death_curse_tooltip
			}
			30 = {
				add_ruler_modifier = {
					name = "cursed_ruler"
					duration = -1
				}
			}
			30 = {
				change_adm = -2
				change_dip = -2
				change_mil = -2
				custom_tooltip = ruler_skills_cursed_tooltip
			}
		}
	}
	
	option = {
		name = "assyrian_arch.10.b" # The heir is cursed
		trigger = {
			has_heir = yes
		}
		random_list = {
			50 = {
				kill_heir = { allow_new_heir = no }
				custom_tooltip = heir_death_curse_tooltip
			}
			50 = {
				add_heir_claim = -50
				change_heir_adm = -2
				change_heir_dip = -2
				change_heir_mil = -2
			}
		}
	}
	
	option = {
		name = "assyrian_arch.10.c" # Try to break the curse
		trigger = {
			treasury = 1000
			adm_power = 100
			dip_power = 100
			mil_power = 100
		}
		add_treasury = -1000
		add_adm_power = -100
		add_dip_power = -100
		add_mil_power = -100
		random_list = {
			50 = {
				remove_country_modifier = curse_of_assyria
				add_prestige = 50
			}
			50 = {
				add_stability = -1
				random_owned_province = {
					add_province_modifier = {
						name = "cursed_ground"
						duration = 7300
					}
				}
			}
		}
	}
}

# Empty Tomb Event
country_event = {
	id = assyrian_arch.11
	title = "assyrian_arch.11.t"
	desc = "assyrian_arch.11.d"
	picture = BANKRUPTCY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_arch.11.a" # Blame the archaeologist
		add_prestige = -25
		add_country_modifier = {
			name = "archaeological_disappointment"
			duration = 1825
		}
		if = {
			limit = {
				advisor = natural_scientist
			}
			kill_advisor = natural_scientist
		}
	}
	
	option = {
		name = "assyrian_arch.11.b" # Cover it up
		add_treasury = -500
		add_corruption = 1
		add_dip_power = -50
	}
}


country_event = {
	id = assyrian_arch.20
	title = "assyrian_arch.20.t"
	desc = "assyrian_arch.20.d"
	picture = REFORM_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_arch.20.a"
		add_adm_power = 400
		add_country_modifier = {
			name = "advanced_cuneiform_administration"
			duration = 7300
		}
		change_government_reform_progress = 100
		add_government_power = {
			mechanic_type = assyrian_legacy_mechanic
			power_type = ashurbanipal_legacy
			value = 20
		}
	}
}

# Major Discovery - Military
country_event = {
	id = assyrian_arch.21
	title = "assyrian_arch.21.t"
	desc = "assyrian_arch.21.d"
	picture = LAND_MILITARY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_arch.21.a"
		add_mil_power = 400
		add_army_tradition = 25
		add_army_professionalism = 0.05
		add_country_modifier = {
			name = "elite_assyrian_tactics"
			duration = 7300
		}
		add_government_power = {
			mechanic_type = assyrian_legacy_mechanic
			power_type = ashurbanipal_legacy
			value = 20
		}
	}
}

# Major Discovery - Trade
country_event = {
	id = assyrian_arch.22
	title = "assyrian_arch.22.t"
	desc = "assyrian_arch.22.d"
	picture = MERCHANTS_TALKING_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_arch.22.a"
		add_dip_power = 400
		add_mercantilism = 5
		add_country_modifier = {
			name = "ancient_trade_knowledge"
			duration = 7300
		}
		random_owned_province = {
			limit = { province_has_center_of_trade_of_level = 1 }
			add_center_of_trade_level = 1
		}
		add_government_power = {
			mechanic_type = assyrian_legacy_mechanic
			power_type = ashurbanipal_legacy
			value = 15
		}
	}
}

# Significant - Religious
country_event = {
	id = assyrian_arch.30
	title = "assyrian_arch.30.t"
	desc = "assyrian_arch.30.d"
	picture = RELIGION_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_arch.30.a"
		add_patriarch_authority = 0.1
		add_papal_influence = 50
		add_country_modifier = {
			name = "religious_manuscripts_found"
			duration = 5475
		}
		add_government_power = {
			mechanic_type = assyrian_legacy_mechanic
			power_type = ashurbanipal_legacy
			value = 15
		}
	}
}

# Significant - Astronomy
country_event = {
	id = assyrian_arch.31
	title = "assyrian_arch.31.t"
	desc = "assyrian_arch.31.d"
	picture = COMET_SIGHTED_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_arch.31.a"
		change_innovativeness = 5
		add_country_modifier = {
			name = "babylonian_astronomy"
			duration = 5475
		}
	
		add_government_power = {
			mechanic_type = assyrian_legacy_mechanic
			power_type = ashurbanipal_legacy
			value = 15
		}
	}
}

# Significant - Weapons
country_event = {
	id = assyrian_arch.32
	title = "assyrian_arch.32.t"
	desc = "assyrian_arch.32.d"
	picture = MILITARY_CAMP_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_arch.32.a"
		add_yearly_manpower = 1
		add_country_modifier = {
			name = "assyrian_iron_weapons"
			duration = 3650
		}
		random_owned_province = {
			infantry = ROOT
			infantry = ROOT
			infantry = ROOT
		}
	}
}

# Moderate - Administrative
country_event = {
	id = assyrian_arch.40
	title = "assyrian_arch.40.t"
	desc = "assyrian_arch.40.d"
	picture = ADVISOR_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_arch.40.a"
		add_adm_power = 200
		add_government_power = {
			mechanic_type = assyrian_legacy_mechanic
			power_type = ashurbanipal_legacy
			value = 15
		}
		add_country_modifier = {
			name = "minor_administrative_texts"
			duration = 3650
		}
	}
}

# Moderate - Military
country_event = {
	id = assyrian_arch.41
	title = "assyrian_arch.41.t"
	desc = "assyrian_arch.41.d"
	picture = GENERALS_DISCUSSING_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_arch.41.a"
		add_mil_power = 200
		add_government_power = {
			mechanic_type = assyrian_legacy_mechanic
			power_type = ashurbanipal_legacy
			value = 15
		}
		add_country_modifier = {
			name = "minor_military_manuals"
			duration = 3650
		}
	}
}

# Moderate - Economic
country_event = {
	id = assyrian_arch.42
	title = "assyrian_arch.42.t"
	desc = "assyrian_arch.42.d"
	picture = ECONOMY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_arch.42.a"
		add_years_of_income = 3
		add_government_power = {
			mechanic_type = assyrian_legacy_mechanic
			power_type = ashurbanipal_legacy
			value = 10
		}
		add_country_modifier = {
			name = "ancient_merchant_records"
			duration = 3650
		}
	}
}

# Disaster - Tomb Collapse
country_event = {
	id = assyrian_arch.50
	title = "assyrian_arch.50.t"
	desc = "assyrian_arch.50.d"
	picture = EARTHQUAKE_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_arch.50.a"
		random_owned_province = {
			add_devastation = 25
			add_province_modifier = {
				name = "excavation_disaster"
				duration = 3650
			}
		}
		add_country_modifier = {
			name = "archaeological_tragedy"
			duration = 1825
		}
		if = {
			limit = { advisor = natural_scientist }
			kill_advisor = natural_scientist
		}
	}
}

# Disaster - International Incident
country_event = {
	id = assyrian_arch.51
	title = "assyrian_arch.51.t"
	desc = "assyrian_arch.51.d"
	picture = ACCUSATION_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "assyrian_arch.51.a"
		random_neighbor_country = {
			limit = {
				NOT = { war_with = ROOT }
				NOT = { alliance_with = ROOT }
			}
			add_casus_belli = {
				target = ROOT
				type = cb_insult
				months = 60
			}
		}
	}
}