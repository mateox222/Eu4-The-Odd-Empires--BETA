 estate_solar = {
	modifier_definition = {
		type = loyalty
		key = nobles_loyalty_modifier2
		trigger = {
			has_estate = estate_solar
		}
	}

	modifier_definition = {
		type = influence
		key = nobles_influence_modifier2
		trigger = {
			has_estate = estate_solar
		}
	}
} 

 estate_lunar = {
	modifier_definition = {
		type = loyalty
		key = church_loyalty_modifier2
		trigger = {
			has_estate =  estate_lunar
		}
	}
	modifier_definition = {
		type = influence
		key = church_influence_modifier2
		trigger = {
			has_estate =  estate_lunar
		}
	}
}
estate_jewishestate = {
	modifier_definition = {
		type = loyalty
		key = jewishestate_loyalty_modifier
		trigger = {
			has_estate =  estate_jewishestate
		}
	}
	modifier_definition = {
		type = influence
		key = jewishestate_influence_modifier
		trigger = {
			has_estate =  estate_jewishestate
		}
	}
}

estate_jewishestate = {
	modifier_definition = {
		type = loyalty
		key = jewishestate_loyalty_modifier
		trigger = {
			has_estate =  estate_jewishestate
		}
	}
	modifier_definition = {
		type = influence
		key = jewishestate_influence_modifier
		trigger = {
			has_estate =  estate_jewishestate
		}
	}
}

estate_urban_patricians = {
	modifier_definition = {
		type = loyalty
		key = urban_patricians_loyalty_modifier
		trigger = {
			has_estate =  estate_urban_patricians
		}
	}
	modifier_definition = {
		type = influence
		key = urban_patricians_influence_modifier
		trigger = {
			has_estate =  estate_urban_patricians
		}
	}
}
estate_rural_communes = {
	modifier_definition = {
		type = loyalty
		key = rural_communes_loyalty_modifier
		trigger = {
			has_estate =  estate_rural_communes
		}
	}
	modifier_definition = {
		type = influence
		key = rural_communes_influence_modifier
		trigger = {
			has_estate =  estate_rural_communes
		}
	}
}
estate_guilds = {
	modifier_definition = {
		type = loyalty
		key = guilds_loyalty_modifier
		trigger = {
			has_estate =  estate_guilds
		}
	}
	modifier_definition = {
		type = influence
		key = guilds_influence_modifier
		trigger = {
			has_estate =  estate_guilds
		}
	}
}


estate_vril_mages = {
    # Loyalty modifiers
    modifier_definition = {
        type = loyalty
        key = vril_mages_loyalty_modifier
        trigger = {
            always = yes
        }
    }
    
    modifier_definition = {
        type = loyalty
        key = EST_LOYAL_VRIL_RESEARCH
        trigger = {
            has_institution = printing_press
            innovativeness = 30
        }
    }
    
    modifier_definition = {
        type = loyalty
        key = EST_LOYAL_GREAT_PROJECTS
        trigger = {
            OR = {
                has_great_project = {
                    type = mu1_agartha_citadel
                    tier = 3
                }
                has_great_project = {
                    type = mu1_golden_citadel
                    tier = 3
                }
            }
        }
    }
    
    modifier_definition = {
        type = loyalty
        key = EST_DISLOYAL_LOW_VRIL
        trigger = {
            NOT = {
                has_government_power = {
                    mechanic_type = mu1_vril_harnessing
                    power_type = mu1_vril_energy
                    value = 30
                }
            }
        }
    }
    
    modifier_definition = {
        type = loyalty
        key = EST_DISLOYAL_VRIL_OVERDRIVE
        trigger = {
            has_country_modifier = mu1_vril_overdrive_mod
        }
    }
    
    # Influence modifiers
    modifier_definition = {
        type = influence
        key = EST_VAL_VRIL_UNLOCKED
        trigger = {
            has_country_flag = mu1_vril_unlocked
        }
    }
    
    modifier_definition = {
        type = influence
        key = EST_VAL_VRIL_MASTERY_HIGH
        trigger = {
            has_government_power = {
                mechanic_type = mu1_vril_harnessing
                power_type = mu1_vril_mastery
                value = 80
            }
        }
    }
    
    modifier_definition = {
        type = influence
        key = EST_VAL_LUNAR_BASE
        trigger = {
            has_country_flag = mu1_lunar_base_operational
        }
    }
}
