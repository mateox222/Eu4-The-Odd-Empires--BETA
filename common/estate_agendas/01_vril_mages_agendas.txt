# AGENDA 1: Tech Ahead
estate_vril_mages_agenda_tech_ahead = {
    can_select = {
        has_country_flag = mu1_vril_unlocked
    }
    
    selection_weight = {
        factor = 2
        modifier = {
            factor = 1.5
            is_ahead_of_time = yes
        }
    }
    
    task_requirements = {
        OR = {
            adm_tech = 20
            dip_tech = 20
            mil_tech = 20
        }
    }
    
    task_completed_effect = {
        add_estate_loyalty = {
            estate = estate_vril_mages
            loyalty = 15
        }
        add_government_power = {
            mechanic_type = mu1_vril_harnessing
            power_type = mu1_vril_energy
            value = 30
        }
        add_innovativeness = 3
    }
    
    failing_effect = {
        add_estate_loyalty = {
            estate = estate_vril_mages
            loyalty = -10
        }
    }
}

# AGENDA 2: Vril Abundance
estate_vril_mages_agenda_vril_abundance = {
    can_select = {
        has_country_flag = mu1_vril_unlocked
    }
    
    selection_weight = {
        factor = 1.5
    }
    
    task_requirements = {
        has_government_power = {
            mechanic_type = mu1_vril_harnessing
            power_type = mu1_vril_energy
            value = 80
        }
    }
    
    task_completed_effect = {
        add_estate_loyalty = {
            estate = estate_vril_mages
            loyalty = 20
        }
        add_country_modifier = {
            name = mu1_vril_abundance_reward_mod
            duration = 3650
        }
    }
    
    failing_effect = {
        add_estate_loyalty = {
            estate = estate_vril_mages
            loyalty = -15
        }
    }
}

# AGENDA 3: Build Workshop
estate_vril_mages_agenda_build_workshop = {
    provinces_to_highlight = {
        owned_by = ROOT
        NOT = { has_building = workshop }
        base_production = 5
    }
    
    can_select = {
        any_owned_province = {
            NOT = { has_building = workshop }
        }
    }
    
    selection_weight = {
        factor = 1
    }
    
    task_requirements = {
        num_of_owned_provinces_with = {
            value = 10
            has_building = workshop
        }
    }
    
    task_completed_effect = {
        add_estate_loyalty = {
            estate = estate_vril_mages
            loyalty = 10
        }
        add_government_power = {
            mechanic_type = mu1_vril_harnessing
            power_type = mu1_vril_mastery
            value = 20
        }
    }
    
    failing_effect = {
        add_estate_loyalty = {
            estate = estate_vril_mages
            loyalty = -5
        }
    }
}
