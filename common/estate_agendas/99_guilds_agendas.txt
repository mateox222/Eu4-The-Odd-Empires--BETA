estate_guilds_develop_production = {
	can_select = {
		any_owned_province = {
			base_production = 4
		}
	}
	provinces_to_highlight = {
		owned_by = ROOT
		base_production = 4
	}
	selection_weight = {
		factor = 10
		modifier = {
			factor = 1.5
			production_income_percentage = 0.3
		}
	}
	pre_effect = {
		random_owned_province = {
			limit = {
				base_production = 4
			}
			save_event_target_as = agenda_province
		}
	}
	task_requirements = {
		event_target:agenda_province = {
			add_base_production = 2
		}
	}
	task_completed_effect = {
		add_estate_loyalty = {
			estate = estate_guilds
			loyalty = 15
		}
		add_years_of_income = 0.25
	}
	failing_effect = {
		add_estate_loyalty_modifier = {
			estate = estate_guilds
			desc = EST_VAL_AGENDA_FAILED
			loyalty = -5
			duration = 7300
		}
	}
}
estate_guilds_build_workshop = {
	can_select = {
		any_owned_province = {
			NOT = { has_building = workshop }
			base_production = 3
		}
	}
	provinces_to_highlight = {
		owned_by = ROOT
		NOT = { has_building = workshop }
		base_production = 3
	}
	selection_weight = {
		factor = 8
	}
	pre_effect = {
		random_owned_province = {
			limit = {
				NOT = { has_building = workshop }
				base_production = 3
			}
			save_event_target_as = agenda_province
		}
	}
	task_requirements = {
		event_target:agenda_province = {
			has_building = workshop
		}
	}
	task_completed_effect = {
		add_estate_loyalty = {
			estate = estate_guilds
			loyalty = 10
		}
		event_target:agenda_province = {
			add_province_modifier = {
				name = "guild_sponsored_workshop"
				duration = 3650
				local_production_efficiency = 0.15
			}
		}
	}
	failing_effect = {
		add_estate_loyalty_modifier = {
			estate = estate_guilds
			desc = EST_VAL_AGENDA_FAILED
			loyalty = -5
			duration = 7300
		}
	}
}

estate_guilds_establish_trade_route = {
	can_select = {
		merchants = 2
		any_trade_node = {
			NOT = { has_merchant = ROOT }
			trade_share = {
				country = ROOT
				share = 0.05
			}
		}
	}
	selection_weight = {
		factor = 6
		modifier = {
			factor = 1.5
			trade_income_percentage = 0.25
		}
	}
	task_requirements = {
		num_of_merchants = 3
	}
	task_completed_effect = {
		add_estate_loyalty = {
			estate = estate_guilds
			loyalty = 12
		}
		add_mercantilism = 1
	}
	failing_effect = {
		add_estate_loyalty_modifier = {
			estate = estate_guilds
			desc = EST_VAL_AGENDA_FAILED
			loyalty = -5
			duration = 7300
		}
	}
}
