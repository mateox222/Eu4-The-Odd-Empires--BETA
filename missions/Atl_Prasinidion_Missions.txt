prasinidion_slot_1 = {
	slot = 1
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = GR6 } 

	spartan_foundation = {
		icon = mission_consolidate_the_state
		position = 1
		provinces_to_highlight = {  } 

		trigger = {
			army_tradition = 30
			num_of_generals = 2
			mil_power = 100
		}

		effect = {
			add_country_modifier = {
				name = "spartan_military_tradition"
				duration = 5475
			}
			capital_scope = {
				add_building = barracks
				add_province_modifier = {
					name = "birthplace_of_warriors_mission"
					duration = -1
				}
			}
			add_mil_power = 100
			add_army_tradition = 10
		}
	}

	establish_great_agoge = {
		icon = mission_modern_knight_army
		position = 3
		required_missions = { spartan_foundation } 
		provinces_to_highlight = {  } 

		trigger = {
			army_tradition = 50
			manpower_percentage = 0.8
			capital_scope = { has_building = barracks } 
			mil_tech = 4
		}

		effect = {
			add_country_modifier = {
				name = "great_agoge_established"
				duration = -1
			}
			capital_scope = {
				if = {
					limit = { NOT = { has_building = training_fields }  } 
					add_building = training_fields
				}
				add_province_modifier = {
					name = "agoge_training_grounds"
					duration = -1
				}
			}
			add_mil_power = 150
			create_general = { tradition = 60 } 
			custom_tooltip = spartan_units_unlocked_tt
			hidden_effect = { set_country_flag = can_recruit_spartan_hoplites } 
		}
	}

	helot_subjugation = {
		icon = prosperity_for_all
		position = 4
		required_missions = { establish_great_agoge } 
		provinces_to_highlight = {
			owned_by = ROOT
			NOT = { culture = ROOT } 
			unrest = 1
		}

		trigger = {
			NOT = {
				any_owned_province = {
					NOT = { culture = ROOT } 
					unrest = 1
				}
			}
			calc_true_if = {
				all_owned_province = { NOT = { culture = ROOT }  } 
				amount = 3
			}
		}

		effect = {
			add_country_modifier = {
				name = "efficient_helot_control"
				duration = -1
			}
			every_owned_province = {
				limit = { NOT = { culture = ROOT }  } 
				add_province_modifier = {
					name = "helot_agricultural_system"
					duration = -1
				}
			}
			add_years_of_income = 0.5
		}
	}

	total_militarization = {
		icon = mission_son_military_expertise
		position = 4
		required_missions = { helot_subjugation } 
		provinces_to_highlight = {  } 

		trigger = {
			army_size_percentage = 1.0
			num_of_generals = 4
			army_tradition = 70
			has_global_modifier_value = {
				which = discipline
				value = 0.15
			}
		}

		effect = {
			add_country_modifier = {
				name = "militarized_spartan_society"
				duration = -1
			}
			add_mil_power = 200
			create_general = { tradition = 80 } 
			every_owned_province = {
				add_province_modifier = {
					name = "spartan_military_district"
					duration = -1
				}
			}
		}
	}

	perfect_helot_system = {
		icon = mission_dominate_home_trade_node
		position = 5
		required_missions = { total_militarization } 
		provinces_to_highlight = {  } 

		trigger = {
			stability = 2
			NOT = {
				any_owned_province = {
					NOT = { culture = ROOT } 
					unrest = 0
				}
			}
			calc_true_if = {
				all_owned_province = {
					NOT = { culture = ROOT } 
					base_production = 3
				}
				amount = 5
			}
		}

		effect = {
			add_country_modifier = {
				name = "perfect_spartan_control"
				duration = -1
			}
			every_owned_province = {
				limit = {
					NOT = { culture = ROOT } 
					base_production = 3
				}
				add_base_production = 1
			}
		}
	}

	atlantis_spartan_hegemony = {
		icon = a_place_among_the_great_powers
		position = 6
		required_missions = { perfect_helot_system } 
		provinces_to_highlight = {
			continent = Atlantis
			NOT = { country_or_non_sovereign_subject_holds = ROOT } 
		}

		trigger = {
			calc_true_if = {
				all_province = {
					continent = Atlantis
					country_or_non_sovereign_subject_holds = ROOT
				}
				amount = 35
			}
			NOT = { exists = TU3 } 
		}

		effect = {
			add_prestige = 100
			add_country_modifier = {
				name = "atlantean_spartan_empire"
				duration = -1
			}
			custom_tooltip = european_expansion_unlocked_tt
			hidden_effect = { set_country_flag = european_expansion_available } 
		}
	}
}
prasinidion_slot_2 = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = GR6 } 

	spartan_alliances = {
		icon = mission_alliances
		position = 1
		provinces_to_highlight = {  } 

		trigger = {
			num_of_allies = 2
			diplomatic_reputation = 2
			army_tradition = 25
		}

		effect = {
			add_country_modifier = {
				name = "spartan_military_diplomacy"
				duration = 3650
			}
			add_dip_power = 100
			every_known_country = {
				limit = {
					continent = Atlantis
					NOT = { tag = ROOT } 
					NOT = { tag = TU3 } 
					NOT = { total_development = ROOT } 
				}
				add_opinion = {
					who = ROOT
					modifier = spartan_military_respect
				}
			}
		}
	}

	conquer_minor_poleis = {
		icon = the_great_school
		position = 2
		required_missions = { spartan_alliances } 
		provinces_to_highlight = {
			continent = Atlantis
			NOT = { country_or_non_sovereign_subject_holds = ROOT } 
			NOT = { owned_by = TU3 } 
			any_neighbor_province = { owned_by = ROOT } 
		}

		trigger = {
			num_of_subjects = 3
			calc_true_if = {
				all_subject_country = { capital_scope = { continent = Atlantis }  } 
				amount = 3
			}
		}

		effect = {
			add_country_modifier = {
				name = "spartan_overlordship"
				duration = -1
			}
			every_subject_country = {
				limit = { capital_scope = { continent = Atlantis }  } 
				add_liberty_desire = -10
			}
			add_prestige = 25
		}
	}

	spartan_league = {
		icon = integrate_the_three_leagues
		position = 3
		required_missions = { conquer_minor_poleis } 
		provinces_to_highlight = {  } 

		trigger = {
			num_of_subjects = 5
			num_of_allies = 3
			prestige = 50
		}

		effect = {
			add_adm_power = 250
			add_dip_power = 250
			add_mil_power = 250
		}
	}

	defeat_atlantis = {
		icon = mission_thirty_years_war
		position = 4
		required_missions = {
			spartan_league
			establish_great_agoge
		}
		provinces_to_highlight = { owned_by = TU3 } 

		trigger = {
			OR = {
				AND = {
					TU3 = { war_with = ROOT } 
					war_score = 25
				}
				AND = {
					NOT = { exists = TU3 } 
					any_owned_province = { previous_owner = TU3 } 
				}
			}
		}

		effect = {
			add_country_modifier = {
				name = "war_against_philosophers"
				duration = 1825
			}
			add_mil_power = 150
			add_army_tradition = 15
			if = {
				limit = { exists = TU3 } 
				TU3 = { add_war_exhaustion = 5 } 
			}
		}
	}

	destroy_atlantis = {
		icon = mission_conquer_alexandria
		position = 6
		required_missions = { defeat_atlantis } 
		provinces_to_highlight = {  } 

		trigger = {
			NOT = { exists = TU3 } 
			calc_true_if = {
				all_owned_province = { previous_owner = TU3 } 
				amount = 1
			}
		}

		effect = {
			add_prestige = 100
			add_country_modifier = {
				name = "destroyer_of_atlantis"
				duration = -1
			}
			random_owned_province = {
				limit = {
					previous_owner = TU3
					is_capital = no
				}
				change_province_name = "New Sparta"
				change_culture = ROOT
				add_province_modifier = {
					name = "conquered_atlantean_capital"
					duration = -1
				}
			}
			add_legitimacy = 25
			add_army_tradition = 25
		}
	}

	prepare_european_invasion = {
		icon = mission_european_politics
		position = 8
		required_missions = {
			destroy_atlantis
			atlantis_spartan_hegemony
		}
		provinces_to_highlight = {  } 

		trigger = {
			navy_size = 20
			sailors_percentage = 0.8
			army_size = 40
			manpower_percentage = 0.9
		}

		effect = {
			add_country_modifier = {
				name = "european_invasion_preparations"
				duration = 3650
			}
			add_dip_power = 200
			add_mil_power = 200
			custom_tooltip = european_discovery_tt
			hidden_effect = {
				discover_province = 224
				discover_province = 213
				discover_province = 236
			}
		}
	}
}
prasinidion_slot_3 = {
	slot = 3
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = GR6 } 

	spartan_navy = {
		icon = mission_establish_high_seas_navy
		position = 1
		provinces_to_highlight = {  } 

		trigger = {
			navy_size = 10
			num_of_admirals = 1
			sailors_percentage = 0.6
		}

		effect = {
			add_country_modifier = {
				name = "spartan_naval_tradition"
				duration = 3650
			}
			add_dip_power = 100
			create_admiral = { tradition = 40 } 
			capital_scope = {
				if = {
					limit = { has_port = yes } 
					if = {
						limit = { NOT = { has_building = dock }  } 
						add_building = dock
					}
				}
			}
		}
	}

	naval_patrols = {
		icon = mission_naval_dominance
		position = 3
		required_missions = { spartan_navy } 
		provinces_to_highlight = {  } 

		trigger = {
			navy_size = 15
			navy_tradition = 20
			num_of_light_ship = 8
		}

		effect = {
			add_country_modifier = {
				name = "spartan_naval_patrols"
				duration = 5475
			}
			add_navy_tradition = 10
			every_owned_province = {
				limit = { has_port = yes } 
				add_province_modifier = {
					name = "protected_waters"
					duration = 5475
				}
			}
		}
	}

	atlantean_naval_supremacy = {
		icon = mission_sea_battles
		position = 4
		required_missions = { naval_patrols } 
		provinces_to_highlight = {  } 

		trigger = {
			navy_size = 25
			navy_tradition = 40
			num_of_heavy_ship = 5
		}

		effect = {
			add_country_modifier = {
				name = "masters_of_atlantean_seas"
				duration = -1
			}
			add_navy_tradition = 15
			every_owned_province = {
				limit = { has_port = yes } 
				add_province_modifier = {
					name = "spartan_naval_base"
					duration = -1
				}
			}
		}
	}

	naval_expeditions = {
		icon = atlantropa_nilfheimnordfleet
		position = 6
		required_missions = { atlantean_naval_supremacy } 
		provinces_to_highlight = {  } 

		trigger = {
			navy_size = 30
			OR = {
				has_idea = quest_for_the_new_world
				dip_tech = 15
			}
		}

		effect = {
			add_country_modifier = {
				name = "spartan_naval_expeditions"
				duration = -1
			}
			add_dip_power = 150
			add_navy_tradition = 20
			hidden_effect = {
				discover_province = 1
				discover_province = 334
				discover_province = 295
			}
		}
	}
}
prasinidion_slot_4 = {
	slot = 4
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = GR6 } 

	first_european_expedition = {
		icon = mission_launch_a_flagship
		position = 1
		provinces_to_highlight = {

			NOT = { country_or_non_sovereign_subject_holds = ROOT } 
		}

		trigger = {

			navy_size = 100
		}

		effect = {
			add_prestige = 50
			add_country_modifier = {
				name = "spartan_european_foothold"
				duration = -1
			}
			add_mil_power = 100
			add_dip_power = 100
			iberia_region = { add_permanent_claim = ROOT } 

		}
	}

	conquer_iberian_coast = {
		icon = atlantropa_chesziberian
		position = 2
		required_missions = { first_european_expedition } 
		provinces_to_highlight = {
			OR = {
				region = iberia_region
			}
			has_port = yes
			NOT = { country_or_non_sovereign_subject_holds = ROOT } 
		}

		trigger = {
num_of_provinces_owned_or_owned_by_subjects_with = {
	value = 10
	region = iberia_region
	has_port = yes

}
		}

		effect = {
			add_prestige = 30
			add_country_modifier = {
				name = "spartan_iberian_conquest"
				duration = -1
			}
		}
	}

	march_on_madrid = {
		icon = mission_conquer_romania
		position = 3
		required_missions = { conquer_iberian_coast } 
		provinces_to_highlight = { province_id = 219 } 

		trigger = {
			owns = 219
		}

		effect = {
			add_prestige = 75
			add_country_modifier = {
				name = "conqueror_of_castile"
				duration = -1
			}
			219 = {
				change_province_name = "Toledonia"
				change_culture = ROOT
				add_province_modifier = {
					name = "spartan_iberian_capital"
					duration = -1
				}
			}
			
						every_country = {
				limit = { capital_scope = { region = aquitania_region }  } 
				add_opinion = {
					who = ROOT
					modifier = spartan_terror
				}
			}
			every_country = {
				limit = { capital_scope = { region = iberia_region }  } 
				add_opinion = {
					who = ROOT
					modifier = spartan_terror
				}
			}
		}
	}

	iberian_dominion = {
		icon = atlantropa_israeldominacce
		position = 5
		required_missions = { march_on_madrid } 
		provinces_to_highlight = {
			region = iberia_region
			NOT = { country_or_non_sovereign_subject_holds = ROOT } 
		}

		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 25
				region = iberia_region
			}
		}

		effect = {
			add_prestige = 100
			add_country_modifier = {
				name = "spartan_iberian_empire"
				duration = -1
			}
			every_owned_province = {
				limit = { region = iberia_region } 
				add_province_modifier = {
					name = "spartan_provincial_administration"
					duration = -1
				}
			}
		}
	}
}
prasinidion_slot_5 = {
	slot = 5
	generic = no
	ai = yes
	has_country_shield = yes
	potential = { tag = GR6 } 

	pyrenees_crossing = {
		icon = atlantropa_alsace
		position = 2
		required_missions = { first_european_expedition } 
		provinces_to_highlight = {
			OR = {
				area = galicia_area
				area = alentejo_area
				area = galicia_area
			}
			NOT = { country_or_non_sovereign_subject_holds = ROOT } 
		}

		trigger = {
			OR = {
				galicia_area = {
					type = all
					country_or_non_sovereign_subject_holds = ROOT
				}
				galicia_area = {
					type = all
					country_or_non_sovereign_subject_holds = ROOT
				}
				AND = {
					alentejo_area = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
				}
			}
		}

		effect = {
			add_prestige = 25
			add_country_modifier = {
				name = "spartan_pyrenees_crossing"
				duration = 3650
			}
			add_mil_power = 50
		}
	}

	invasion_of_france = {
		icon = king_of_france
		position = 3
		required_missions = { pyrenees_crossing } 
		provinces_to_highlight = {
			owned_by = FRA
			NOT = { country_or_non_sovereign_subject_holds = ROOT } 
		}

		trigger = {
		num_of_provinces_owned_or_owned_by_subjects_with = {
	value = 35
	region = france_region
}
		}

		effect = {
			add_prestige = 50
			add_country_modifier = {
				name = "spartan_french_invasion"
				duration = -1
			}
			every_owned_province = {
				limit = { region = france_region } 
				add_province_modifier = {
					name = "spartan_military_colony"
					duration = -1
				}
			}
		}
	}

	march_on_paris = {
		icon = atlantropa_fallparis
		position = 5
		required_missions = { invasion_of_france } 
		provinces_to_highlight = { province_id = 236 } 

		trigger = { owns = 236 } 

		effect = {
			add_prestige = 100
			add_country_modifier = {
				name = "conqueror_of_paris"
				duration = -1
			}
			236 = {
				change_province_name = "Lutetion"
				change_culture = ROOT
				add_province_modifier = {
					name = "spartan_french_capital"
					duration = -1
				}
			}
			236 = {
				add_trade_modifier = {
					who = ROOT
					duration = -1
					power = 25
					key = spartan_control
				}
			}
		}
	}

	franco_iberian_sparta = {
		icon = mission_crown_of_norway
		position = 6
		required_missions = {
			iberian_dominion
			march_on_paris
		}
		provinces_to_highlight = {  } 

		trigger = {
			total_development = 1200
			army_size = 120
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 60
				OR = {
					region = iberia_region
				}
			}
		}

		effect = {
			add_prestige = 200
			add_country_modifier = {
				name = "spartan_western_european_empire"
				duration = -1
			}
			every_owned_province = {
				limit = {
					OR = {
						region = iberia_region

					}
				}
				add_province_modifier = {
					name = "spartan_imperial_province"
					duration = -1
				}
			}
			set_country_flag = spartan_western_europe_achieved
		}
	}
}
